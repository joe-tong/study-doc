计算机底层系统->硬件底层系统->cup内核多级缓存架构->java线程有KTL创建->UTL,CTL->内核空间，用户空间->并发优势（充分利用多核系统资源），缺点：上下文切换  （Tss任务状态断），死锁（排查jps ,jstack）->JMM(cup多级缓存架构的抽象概念，一组规则)-



1.voliate解释一下？

```
保证了可见性，可见性就是在一些方面保证了多线程对变量的一致性并兼顾了性能，可见性只是一种底层机制的一种实现效果。具体如何实现需要分析底层实现机制。

1.具体了解需要首先了解硬件的cup内核多级缓存架构，他是如何保证数据一致性的，通过mesi和bus总线加Lock#来实现的。我通过vm加上的参数，打印出voliate的汇编指令，发现voliate也是通过加lock汇编指令进行加锁。消息总线会去探嗅这个变量，一旦发现被修改，就会把当前的线程缓存该该变量的缓存行失效，然后重新获取从主内存获取新数据。
```

